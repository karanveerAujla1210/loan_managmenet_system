================================================================================
                    EXECUTION FRAMEWORK - READY ‚úÖ
================================================================================

PROJECT: Loan Management System (NBFC)
SCOPE: MIS Reports System
STATUS: ‚úÖ READY FOR EXECUTION

================================================================================
                      FOUR DOCUMENTS CREATED
================================================================================

üìÑ 1. PROJECT_TODOS.md
   - Authoritative execution checklist
   - 6 phases of work
   - Clear success criteria
   - Canonical field definitions
   - Execution rules

üìÑ 2. AMAZON_Q_MASTER_PROMPT.md
   - Disciplined instruction set for Q
   - Strict rules Q must follow
   - Assumptions Q cannot change
   - Output format requirements
   - Instructions to ask instead of guess

üìÑ 3. RULES_OF_ENGAGEMENT.md
   - Scope and safety guardrails
   - ‚úÖ Allowed changes
   - ‚ùå Forbidden changes
   - Scope boundaries (MIS Reports only)
   - Red flags to stop immediately

üìÑ 4. EXECUTION_FRAMEWORK.md
   - How to use all three documents
   - Workflow steps
   - Example conversation
   - Verification checklist
   - Safety mechanisms

üìÑ 5. START_HERE_EXECUTION.md
   - Quick start guide (5 minutes)
   - Document purposes
   - Execution workflow
   - Example: PHASE 1
   - Verification checklist

================================================================================
                         HOW TO USE
================================================================================

STEP 1: Read START_HERE_EXECUTION.md (5 min)
   - Understand the objective
   - Understand the workflow
   - Understand the documents

STEP 2: Read PROJECT_TODOS.md (10 min)
   - Understand the 6 phases
   - Understand what needs to be done
   - Understand success criteria

STEP 3: Read RULES_OF_ENGAGEMENT.md (10 min)
   - Know what's allowed
   - Know what's forbidden
   - Know the red flags

STEP 4: Open Amazon Q Chat
   - Paste AMAZON_Q_MASTER_PROMPT.md
   - Wait for Q to acknowledge

STEP 5: Execute Phase by Phase
   - Start with PHASE 0
   - Get Q's confirmation
   - Move to PHASE 1
   - Repeat for all 6 phases

STEP 6: Verify Success
   - Check all endpoints return 200 OK
   - Check frontend displays data
   - Check no core logic changed

================================================================================
                         THE FRAMEWORK
================================================================================

PROJECT_TODOS.md
‚îú‚îÄ PHASE 0: Pre-flight (read-only)
‚îú‚îÄ PHASE 1: Routing & plumbing (15 min)
‚îú‚îÄ PHASE 2: Schema alignment (20 min)
‚îú‚îÄ PHASE 3: Logic fixes (30 min)
‚îú‚îÄ PHASE 4: Data model completion (20 min)
‚îú‚îÄ PHASE 5: Defensive engineering (15 min)
‚îî‚îÄ PHASE 6: Verification (10 min)

AMAZON_Q_MASTER_PROMPT.md
‚îú‚îÄ Strict rules
‚îú‚îÄ Assumptions
‚îú‚îÄ Output format
‚îî‚îÄ Instructions

RULES_OF_ENGAGEMENT.md
‚îú‚îÄ ‚úÖ Allowed changes
‚îú‚îÄ ‚ùå Forbidden changes
‚îú‚îÄ Scope boundaries
‚îî‚îÄ Red flags

EXECUTION_FRAMEWORK.md
‚îú‚îÄ Workflow steps
‚îú‚îÄ Example conversation
‚îú‚îÄ Verification checklist
‚îî‚îÄ Safety mechanisms

================================================================================
                         KEY PRINCIPLES
================================================================================

1. DETERMINISTIC
   - Everything is explicit
   - No guessing
   - No hallucination

2. PHASED
   - Work in order
   - Stop between phases
   - Get confirmation before proceeding

3. SCOPED
   - MIS Reports only
   - Nothing else
   - No feature creep

4. SAFE
   - Allowed/forbidden lists
   - Red flags to stop
   - Minimal, isolated changes

5. VERIFIABLE
   - Success criteria are measurable
   - Verification checklist
   - Proof, not hope

6. REVERSIBLE
   - Changes are minimal
   - Changes are isolated
   - Easy to rollback if needed

================================================================================
                         WHAT Q WILL DO
================================================================================

‚úÖ ALLOWED:
- Register routes
- Fix aggregations
- Correct calculations
- Create missing models
- Add error handling
- Align schema usage

‚ùå FORBIDDEN:
- Redesign database
- Change loan rules
- Introduce new report types
- Modify frontend UI
- Optimize prematurely
- Go out of scope

================================================================================
                         EXECUTION TIMELINE
================================================================================

PHASE 0: Pre-flight (5 min)
‚îú‚îÄ Read-only
‚îú‚îÄ Confirm canonical fields
‚îî‚îÄ No code changes

PHASE 1: Routing & plumbing (15 min)
‚îú‚îÄ Register routes in app.js
‚îú‚îÄ Register routes in app-production.js
‚îî‚îÄ Verify all endpoints return 200

PHASE 2: Schema alignment (20 min)
‚îú‚îÄ Replace incorrect field references
‚îú‚îÄ Update all aggregations
‚îî‚îÄ Verify queries use correct fields

PHASE 3: Logic fixes (30 min)
‚îú‚îÄ Fix bucket calculation (DPD-based)
‚îú‚îÄ Fix aging analysis (date-based)
‚îî‚îÄ Fix collection efficiency

PHASE 4: Data model completion (20 min)
‚îú‚îÄ Create standalone Installment model
‚îú‚îÄ Link installments to loans
‚îî‚îÄ Update aggregations

PHASE 5: Defensive engineering (15 min)
‚îú‚îÄ Add error handling
‚îú‚îÄ Add input validation
‚îî‚îÄ Ensure valid JSON responses

PHASE 6: Verification (10 min)
‚îú‚îÄ Verify all endpoints return 200 OK
‚îú‚îÄ Verify data accuracy
‚îî‚îÄ Verify frontend displays data

TOTAL TIME: ~115 minutes (1.75 hours)

================================================================================
                         SUCCESS CRITERIA
================================================================================

SYSTEM LEVEL:
‚òê All 6 report endpoints return 200 OK
‚òê All endpoints return valid JSON
‚òê No 404s from frontend
‚òê Frontend displays all report data

DATA LEVEL:
‚òê Bucket totals = portfolio outstanding
‚òê Efficiency ‚â§ 100%
‚òê Aging totals ‚â§ portfolio
‚òê All calculations are correct

CODE LEVEL:
‚òê No changes to core loan logic
‚òê No changes to payment processing
‚òê No changes to auth/permissions
‚òê No database schema changes

PROCESS LEVEL:
‚òê All phases completed in order
‚òê All changes reviewed and approved
‚òê All red flags avoided
‚òê All verification checks passed

================================================================================
                         QUICK START
================================================================================

1. Read START_HERE_EXECUTION.md (5 min)
2. Read PROJECT_TODOS.md (10 min)
3. Read RULES_OF_ENGAGEMENT.md (10 min)
4. Open Amazon Q chat
5. Paste AMAZON_Q_MASTER_PROMPT.md
6. Say: "Let's start with PHASE 0"
7. Follow the phases
8. Verify success

TOTAL TIME: ~2 hours

================================================================================
                         DOCUMENTS LOCATION
================================================================================

All documents are in the project root:

loan-management-system/
‚îú‚îÄ‚îÄ PROJECT_TODOS.md
‚îú‚îÄ‚îÄ AMAZON_Q_MASTER_PROMPT.md
‚îú‚îÄ‚îÄ RULES_OF_ENGAGEMENT.md
‚îú‚îÄ‚îÄ EXECUTION_FRAMEWORK.md
‚îú‚îÄ‚îÄ START_HERE_EXECUTION.md
‚îî‚îÄ‚îÄ EXECUTION_READY.txt (this file)

================================================================================
                         REFERENCE
================================================================================

When you need to:

Know WHAT to do
‚Üí Read PROJECT_TODOS.md

Know HOW to instruct Q
‚Üí Paste AMAZON_Q_MASTER_PROMPT.md

Know what's ALLOWED/FORBIDDEN
‚Üí Read RULES_OF_ENGAGEMENT.md

Know HOW to execute
‚Üí Read EXECUTION_FRAMEWORK.md

Quick reference
‚Üí Read START_HERE_EXECUTION.md

================================================================================
                         SAFETY MECHANISMS
================================================================================

Built into AMAZON_Q_MASTER_PROMPT.md:
‚úì Strict rules Q must follow
‚úì Assumptions Q cannot change
‚úì Phase-based execution
‚úì Stop points before proceeding
‚úì Output format requirements

Built into RULES_OF_ENGAGEMENT.md:
‚úì Allowed changes list
‚úì Forbidden changes list
‚úì Scope boundaries
‚úì Red flags to stop
‚úì Enforcement checklist

Built into PROJECT_TODOS.md:
‚úì Clear phases
‚úì Success criteria
‚úì Canonical fields
‚úì Execution rules

================================================================================
                         READY TO EXECUTE
================================================================================

‚úÖ Framework complete
‚úÖ Documents created
‚úÖ Phases defined
‚úÖ Safety mechanisms in place
‚úÖ Verification checklist ready

STATUS: READY FOR EXECUTION

Next step: Read START_HERE_EXECUTION.md

================================================================================
Generated: 2024-01-15
Project: Loan Management System (NBFC)
Scope: MIS Reports System
Status: ‚úÖ EXECUTION FRAMEWORK READY
================================================================================
